(self.webpackChunkude_a_io_t_page=self.webpackChunkude_a_io_t_page||[]).push([[2788],{6840:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/API_serial.ba97d75.640.png 640w,"+i.p+"assets/ideal-img/API_serial.fd0cf14.755.png 755w",images:[{path:i.p+"assets/ideal-img/API_serial.ba97d75.640.png",width:640,height:360},{path:i.p+"assets/ideal-img/API_serial.fd0cf14.755.png",width:755,height:425}],src:i.p+"assets/ideal-img/API_serial.ba97d75.640.png",toString:function(){return i.p+"assets/ideal-img/API_serial.ba97d75.640.png"},placeholder:void 0,width:640,height:360},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAdklEQVR4nF2NyRLDMAhD/f+/2emazuA48RIDUsf2rTohPUDhLtLNSDqwpZSva8zuX5GuGiQXB1a0HYe5kwS5l9pUQ22NUwCeMcZSxqr19L7V+AkPkdo7AAdeMa4iNcs1Ex66Dr+u91KaKklzz/NrWOxP7jgn/gGhw6/Q8TVvtAAAAABJRU5ErkJggg=="}},2196:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/Pinout-UNOrev3_latest.ec7841a.640.png 640w,"+i.p+"assets/ideal-img/Pinout-UNOrev3_latest.0b8011e.1030.png 1030w",images:[{path:i.p+"assets/ideal-img/Pinout-UNOrev3_latest.ec7841a.640.png",width:640,height:640},{path:i.p+"assets/ideal-img/Pinout-UNOrev3_latest.0b8011e.1030.png",width:1030,height:1030}],src:i.p+"assets/ideal-img/Pinout-UNOrev3_latest.ec7841a.640.png",toString:function(){return i.p+"assets/ideal-img/Pinout-UNOrev3_latest.ec7841a.640.png"},placeholder:void 0,width:640,height:640},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAC4jAAAuIwF4pT92AAABQUlEQVR4nAE2Acn+APP09Pv7+/b39t7f3/n//+Hh4dzf3////+/u7eno6AD6+/v///+1yswGKCsmcXhTipBfiIzI3N7////8/f4A/P39////vNHTLXN7JnV+L3B3EFRbsby8/+rQ+/LTAPz7+P/467G+vihpcR9iaS9/gwlpcZSXkvS+gvrlnQD////ny8WSl5cHTVQLPEEQg48Hc3+in5f/vHD45q0A+eep+sqXoKWhBEhRDEFGBn6KCHF+opmP/bJl+/LcAPbejv/Njbu/uRtncAlFSyh0ejONmKGqpPG7dv7y3AD////////+/v7l9PXa6uzh7O7//v6x39y/0a7/+uwA7e3t7O7u7/Lz9/Py9/Xz+Pfz8PPz8/X08vf68fX3AODk4+Tn5eXq6ujq5OPn5ezw7+vx8ezx8d/k5OLn57xw3jErab07AAAAAElFTkSuQmCC"}},4652:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/esp32-wroom-hw-connection.1e1a1c1.640.png 640w,"+i.p+"assets/ideal-img/esp32-wroom-hw-connection.5ac6c47.700.png 700w",images:[{path:i.p+"assets/ideal-img/esp32-wroom-hw-connection.1e1a1c1.640.png",width:640,height:333},{path:i.p+"assets/ideal-img/esp32-wroom-hw-connection.5ac6c47.700.png",width:700,height:364}],src:i.p+"assets/ideal-img/esp32-wroom-hw-connection.1e1a1c1.640.png",toString:function(){return i.p+"assets/ideal-img/esp32-wroom-hw-connection.1e1a1c1.640.png"},placeholder:void 0,width:640,height:333},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAq0lEQVR4nD2MvQqCUABGfazeqK25R6ihOaEnKBokiCJ0CiRDcoggaCiyIUq9iiBp994T2c+3fYfDMbRWKFmhleQ3azTHGy+pyvLPDFBs1z69TpeBadaw2+7TbLRYuX79lVIfcb/dYU3GOI5NHEcEm4DpbMHxdEbrb1HJB0kU46wCDsczz6okTTOESHgUBSJJkFK+i5o0FQwtG9fbcL9dCcMLQghEFpPneV18Aeh0tTP3rrX3AAAAAElFTkSuQmCC"}},7964:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/nodemcu_32s_pin.6a563ba.640.png 640w,"+i.p+"assets/ideal-img/nodemcu_32s_pin.bf15672.868.png 868w",images:[{path:i.p+"assets/ideal-img/nodemcu_32s_pin.6a563ba.640.png",width:640,height:681},{path:i.p+"assets/ideal-img/nodemcu_32s_pin.bf15672.868.png",width:868,height:923}],src:i.p+"assets/ideal-img/nodemcu_32s_pin.6a563ba.640.png",toString:function(){return i.p+"assets/ideal-img/nodemcu_32s_pin.6a563ba.640.png"},placeholder:void 0,width:640,height:681},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAIAAADJDItPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABUElEQVR4nB2QW0vCcByG9zG6i/AiobCgj9FNilQYdN2H8BQm9TW6iG6CsEBRNDVCl665zcPUTR07OBRP09wp+/9iXT68PLzwYACw1BaCKOumDQAIIQAwdN2yHMQAIQsAFpLUZgKR+6u7B5YX5vMpwAYhhAGglDhptN7ymaet4+CuP5IqFgWJXuvivw3QHHP9MZcnSLc/engRJ1rUbCFqq6kzDyWRGHZ4tZHDyzsnoaPL2+d0huvTP5sFQoBp0wmpdni1ni2XXN6wJxB7J6oDqaCMko4t8N2K1OgO6RxedvnCB4H4B4nPlpJuf9u2hUnCQF3PaZZ8TCTdp9f757FS7bM36lDDXq/dxEzDyLKvdbmSJ2sub9ATuMHpr7bC4ANClRUMEDRHlEgXci/pbV9o7yxarTMNsZRnE843+nUyIW1F1WWGlzlBMSzT3piGrSMEfz3fB9myIdAvAAAAAElFTkSuQmCC"}},6260:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/pines_serial.3a6d543.394.png 394w",images:[{path:i.p+"assets/ideal-img/pines_serial.3a6d543.394.png",width:394,height:239}],src:i.p+"assets/ideal-img/pines_serial.3a6d543.394.png",toString:function(){return i.p+"assets/ideal-img/pines_serial.3a6d543.394.png"},placeholder:void 0,width:394,height:239},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtUlEQVR4nCXL246CMAAA0f7/z+nuVi42RlDLUiAUKQW5dUz04bzNCCMl1eWCPh5oh4Y97B/dZNE/R0qlaJRCtNcrrz3wkH/oJqf2DbWvKazmLn/xy4IrS4TNMpYQMElK29cUfYF+aqxvMWnK6xMaRJfnbEAhJY8mZw0bW9jR9k4Zx8zrymAMokgSunH83pNnXEeGxbOsM+Z8xjpHlWWIMoqotOb/dKL3HW52X5PDxBHmdsMoxRvC7+Clwi9+JQAAAABJRU5ErkJggg=="}},9031:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/serial_trama.2a26b4e.640.png 640w,"+i.p+"assets/ideal-img/serial_trama.41f2479.700.png 700w",images:[{path:i.p+"assets/ideal-img/serial_trama.2a26b4e.640.png",width:640,height:85},{path:i.p+"assets/ideal-img/serial_trama.41f2479.700.png",width:700,height:93}],src:i.p+"assets/ideal-img/serial_trama.2a26b4e.640.png",toString:function(){return i.p+"assets/ideal-img/serial_trama.2a26b4e.640.png"},placeholder:void 0,width:640,height:85},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAANElEQVR4nAEpANb/APj5+f/v7Oz/49LS/+va2v/r3Nz/5tfX//Dh4f/j0ND/4M3N/+XT0//wsiQ/JBg8HQAAAABJRU5ErkJggg=="}},3248:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/trama_datos_serial.2b5d01a.640.png 640w,"+i.p+"assets/ideal-img/trama_datos_serial.dc67da5.1030.png 1030w",images:[{path:i.p+"assets/ideal-img/trama_datos_serial.2b5d01a.640.png",width:640,height:84},{path:i.p+"assets/ideal-img/trama_datos_serial.dc67da5.1030.png",width:1030,height:135}],src:i.p+"assets/ideal-img/trama_datos_serial.2b5d01a.640.png",toString:function(){return i.p+"assets/ideal-img/trama_datos_serial.2b5d01a.640.png"},placeholder:void 0,width:640,height:84},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAIAAABol6gpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAKklEQVR4nAEfAOD/AOnY2Nm/v9zBwdi+vtm+vte8vNvCwti/v9e8vODMzHOJF8MLMo+5AAAAAElFTkSuQmCC"}},6268:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/transferencia_de_bits.1a5224d.640.png 640w,"+i.p+"assets/ideal-img/transferencia_de_bits.1c9d39f.800.png 800w",images:[{path:i.p+"assets/ideal-img/transferencia_de_bits.1a5224d.640.png",width:640,height:502},{path:i.p+"assets/ideal-img/transferencia_de_bits.1c9d39f.800.png",width:800,height:628}],src:i.p+"assets/ideal-img/transferencia_de_bits.1a5224d.640.png",toString:function(){return i.p+"assets/ideal-img/transferencia_de_bits.1a5224d.640.png"},placeholder:void 0,width:640,height:502},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAIAAABPmPnhAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA5UlEQVR4nBXByW6CQBgA4Hn/R5C2hx56aaBNC+FS9eLSuEUlAQZkcGA2ll+Qmginafw+5AVxTDKtdSpbnIOXCFZdtdY4xQEJ0PtcvDprKXhZVSQ9rzYbxgVn/HnyYkYmstbV08ecJCfOeYQxpVRKGUeRMTYc5qC3mTI+f1meXwA4y4+HfVkUlNLRZGSlFtr75OjHwzAU0LICkkxB0w19v/N3HvHQzypZehlA3dx66O7wN7S3u5JycVpMwykyt+33tsYYF0pJKZQUUnAcYle4dmmjryW1Z2HbPMDD5dp1UINzsN3Y/QfzqszrHPNKRQAAAABJRU5ErkJggg=="}},3644:(e,s,i)=>{e.exports={src:{srcSet:i.p+"assets/ideal-img/uart.68962e6.500.png 500w",images:[{path:i.p+"assets/ideal-img/uart.68962e6.500.png",width:500,height:380}],src:i.p+"assets/ideal-img/uart.68962e6.500.png",toString:function(){return i.p+"assets/ideal-img/uart.68962e6.500.png"},placeholder:void 0,width:500,height:380},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAA6ElEQVR4nD2Q726CQBDEef/X8D38YvpNG1NMtVGkhj+39UBOQe5Qjl8j1m4y2WRmkpndgL8ZhuF/n9OU5WRCtljgvR/54CWebIHuNHm8pVTC3VruztFW1cNAIHIiTTXrw55Y50gSU2Y55W7HrWno6prBe4LNRghXGW/vnyy/DhSSIVHEfjpF1huMKK7t5RntB4++Cj9WyL63HJOUw2yGCldUeU7dGIJH2YfRdi1tbzFaKJMUCUPc+Yx7RYdhwny+Z/WRs47Us6MuuFnL0Pe4y2U8NnCuZ4TtqZ2jOgpGKa5a05Yl1pjxPb8iRy2ltsU/3QAAAABJRU5ErkJggg=="}},8840:(e,s,i)=>{"use strict";i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>t});var a=i(7624),n=i(4552),r=(i(6212),i(2440),i(6968));const c={sidebar_label:"Introducci\xf3n"},o="Capa de percepci\xf3n - Sesi\xf3n 4",d={id:"sesiones/percepcion/sesion4a",title:"Capa de percepci\xf3n - Sesi\xf3n 4",description:"* Aprender el API de programaci\xf3n de Arduino para comunicar serialmente el ESP32 hardware externo.",source:"@site/docs/sesiones/percepcion/sesion4a.md",sourceDirName:"sesiones/percepcion",slug:"/sesiones/percepcion/sesion4a",permalink:"/UdeA_IoT-page/docs/sesiones/percepcion/sesion4a",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sesiones/percepcion/sesion4a.md",tags:[],version:"current",frontMatter:{sidebar_label:"Introducci\xf3n"},sidebar:"sesionesSidebar",previous:{title:"Sesi\xf3n 3",permalink:"/UdeA_IoT-page/docs/sesiones/percepcion/sesion3"},next:{title:"Ejemplo 1",permalink:"/UdeA_IoT-page/docs/sesiones/percepcion/sesion4b"}},l={},t=[{value:"Referencias principales",id:"referencias-principales",level:2},{value:"Comunicaci\xf3n serial",id:"comunicaci\xf3n-serial",level:2},{value:"API para comunicaci\xf3n serial de Arduino",id:"api-para-comunicaci\xf3n-serial-de-arduino",level:2},{value:"Puertos empleados",id:"puertos-empleados",level:2},{value:"ESP32",id:"esp32",level:3},{value:"Arduino UNO",id:"arduino-uno",level:3},{value:"Aplicaciones de la comunicaci\xf3n serial",id:"aplicaciones-de-la-comunicaci\xf3n-serial",level:2},{value:"Escenario 1 - Debug de aplicaciones",id:"escenario-1---debug-de-aplicaciones",level:3},{value:"Escenario 2 - Comunicaci\xf3n con otras placas y con el PC",id:"escenario-2---comunicaci\xf3n-con-otras-placas-y-con-el-pc",level:3}];function p(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.M)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h1,{id:"capa-de-percepci\xf3n---sesi\xf3n-4",children:"Capa de percepci\xf3n - Sesi\xf3n 4"}),"\n",(0,a.jsxs)(s.admonition,{type:"note",children:[(0,a.jsx)(s.mdxAdmonitionTitle,{children:(0,a.jsx)(s.strong,{children:"Objetivos"})}),(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Aprender el API de programaci\xf3n de Arduino para comunicar serialmente el ESP32 hardware externo."}),"\n",(0,a.jsx)(s.li,{children:"Aprender a realizar debug de software para microcontroladores mediante comunicacion serial."}),"\n",(0,a.jsx)(s.li,{children:"Implementar mediante comunicaci\xf3n serial un protocolo para comunicar aplicaciones de escritorio con firmware de microcontroladores."}),"\n"]})]}),"\n",(0,a.jsx)(s.h2,{id:"referencias-principales",children:"Referencias principales"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["La mayor parte de esta clase tomar\xe1 como base la lecci\xf3n 2 A deeper dive into IoT (lecci\xf3n 2) del curso IoT for Beginners (",(0,a.jsx)(s.a,{href:"https://github.com/microsoft/IoT-For-Beginners",children:"link"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["Tambi\xe9n mucha de la informaci\xf3n se tom\xf3 de la pagina: ",(0,a.jsx)(s.a,{href:"https://randomnerdtutorials.com/",children:"https://randomnerdtutorials.com/"})]}),"\n",(0,a.jsxs)(s.li,{children:["ESP32 Arduino Core\u2019s documentation (",(0,a.jsx)(s.a,{href:"https://espressif-docs.readthedocs-hosted.com/projects/arduino-esp32/en/latest/",children:"link"}),")"]}),"\n",(0,a.jsxs)(s.li,{children:["Tutorial ",(0,a.jsx)(s.strong,{children:"Serial Communication"})," de Sparkfun (",(0,a.jsx)(s.a,{href:"https://learn.sparkfun.com/tutorials/serial-communication/serial-intro",children:"link"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["Tutorial ",(0,a.jsx)(s.strong,{children:"Circuit Playground Express Serial Communications"})," de Adafruit (",(0,a.jsx)(s.a,{href:"https://learn.adafruit.com/circuit-playground-express-serial-communications",children:"link"}),")"]}),"\n",(0,a.jsxs)(s.li,{children:["Tutorial ",(0,a.jsx)(s.strong,{children:"Arduino Lesson 5. The Serial Monitor"})," de Adafruit (",(0,a.jsx)(s.a,{href:"https://learn.adafruit.com/adafruit-arduino-lesson-5-the-serial-monitor/overview",children:"link"}),")"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"UART: A Hardware Communication Protocol Understanding Universal Asynchronous Receiver/Transmitter"}),": (",(0,a.jsx)(s.a,{href:"https://www.analog.com/en/analog-dialogue/articles/uart-a-hardware-communication-protocol.html",children:"link"}),")"]}),"\n",(0,a.jsxs)(s.li,{children:["P\xe1ginas de referencia fundamentales (para ver lo que se puede hacer):","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://randomnerdtutorials.com/",children:"https://randomnerdtutorials.com/"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://www.adafruit.com/",children:"https://www.adafruit.com/"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://www.sparkfun.com/",children:"https://www.sparkfun.com/"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://www.seeedstudio.com/",children:"https://www.seeedstudio.com/"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://projecthub.arduino.cc/",children:"https://projecthub.arduino.cc/"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://www.hackster.io/ubidots/projects",children:"https://www.hackster.io/ubidots/projects"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"comunicaci\xf3n-serial",children:"Comunicaci\xf3n serial"}),"\n",(0,a.jsxs)(s.p,{children:["Mediante la comunicaci\xf3n es posible que varios dispositivos puedan transferir y recibir informaci\xf3n entre ellos tal y como se muestra en la siguiente figura (",(0,a.jsx)(s.a,{href:"https://docs.espressif.com/projects/esp-at/en/latest/esp32/Get_Started/Hardware_connection.html",children:"link"}),")."]}),"\n",(0,a.jsx)(r.c,{img:i(4652)}),"\n",(0,a.jsxs)(s.p,{children:["La informacion puede ser transferida de manera paralela o serial, en estas, la diferencia radica en la cantidad de datos que se transfieren simultaneamente (",(0,a.jsx)(s.a,{href:"https://learn.adafruit.com/circuit-playground-express-serial-communications/overview",children:"link"}),")."]}),"\n",(0,a.jsx)(r.c,{img:i(6268)}),"\n",(0,a.jsx)(s.p,{children:"Uno de los principales problemas de la transferencia paralela de datos tiene que ver con la cantidad de lineas empleadas. Por un lado cada linea empleada ocupa un puerto de hardware (pin de un microcontrolador por ejemplo); por el otro, los puertos son un recurso limitado, de modo que, si se implementa una interfaz de comunicaci\xf3n paralela, se estaran empleando muchos de los puertos solo en labores de comunicaci\xf3n, lo cual hara en que en el peor de los casos queden muy pocos puertos disponibles para la conexi\xf3n de sensores y actuadores necesarios para que el microcontrolador interactue con el entorno."}),"\n",(0,a.jsxs)(s.p,{children:["Para trarar el problema anterior, surge la comunicaci\xf3n serial, en la cual, la informaci\xf3n se pone en un bloque de datos (usualmente un byte) y se transmiten bit por bit siguiendo un formato como el mostrado a continuaci\xf3n (",(0,a.jsx)(s.a,{href:"https://learn.sparkfun.com/tutorials/serial-communication/all",children:"link"}),"):"]}),"\n",(0,a.jsx)(r.c,{img:i(9031)}),"\n",(0,a.jsxs)(s.p,{children:["En la siguiente figura se muestra un ejemplo en el cual se transfieren dos tramas de datos (",(0,a.jsx)(s.a,{href:"https://learn.sparkfun.com/tutorials/serial-communication/all",children:"link"}),"):"]}),"\n",(0,a.jsx)(r.c,{img:i(3248)}),"\n",(0,a.jsxs)(s.p,{children:["El hardware para transmitir los dato es el ",(0,a.jsx)(s.strong,{children:"bus serial"}),". Un bus serial consiste de dos cables para la transmisi\xf3n de los datos, de estos, uno de los cuales envia enviar y el otro de recibir. Por lo tanto, los dispositivos que tienen la capacidad de comunicarse de manera serial, deben tener dos pines: uno asociado al receptor ",(0,a.jsx)(s.strong,{children:"RX"})," y otro asociado al transmisor ",(0,a.jsx)(s.strong,{children:"TX"}),".\r\nEs importante tener en cuenta que esas etiquetas ",(0,a.jsx)(s.strong,{children:"RX"})," y ",(0,a.jsx)(s.strong,{children:"TX"})," se refieren al dispositivo mismo. Entonces, el ",(0,a.jsx)(s.strong,{children:"RX"})," de un dispositivo deber\xeda ir al ",(0,a.jsx)(s.strong,{children:"TX"})," del otro y viceversa. La siguiente figura aclara esto:"]}),"\n",(0,a.jsx)(r.c,{img:i(6260)}),"\n",(0,a.jsxs)(s.p,{children:["El hardware encargado de realizar la conversi\xf3n de los datos de paralelo a serial (y viceversa) y asegurar la transferencia serial de estos se conoce como ",(0,a.jsx)(s.strong,{children:"UART (Universal Asynchronous Receiver/Transmitter)"})," y viene integrado en los microcontroladores:"]}),"\n",(0,a.jsx)(r.c,{img:i(3644)}),"\n",(0,a.jsxs)(s.p,{children:["Sin embargo, es importante aclarar que la comunicaci\xf3n serial empleando por ",(0,a.jsx)(s.strong,{children:"UART"})," no es la unica existente ya que con el paso de los a\xf1os han emergido nuevos protocolos entre los que se destacan:"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"USB (Universal Serial Bus)."}),"\n",(0,a.jsx)(s.li,{children:"Ethernet."}),"\n",(0,a.jsx)(s.li,{children:"SPI (Serial Peripherical Interface)."}),"\n",(0,a.jsx)(s.li,{children:"I2C (Inter-Integrated Circuit)."}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"api-para-comunicaci\xf3n-serial-de-arduino",children:"API para comunicaci\xf3n serial de Arduino"}),"\n",(0,a.jsxs)(s.p,{children:["En el API de Arduino (",(0,a.jsx)(s.a,{href:"https://www.arduino.cc/reference/en/",children:"link"}),") se encuentran las principales funciones, clases y estructuras de datos que se usan para hacer programas en Arduino. En el link ",(0,a.jsx)(s.a,{href:"https://www.arduino.cc/reference/en/language/functions/communication/serial/",children:"Serial"})," de la secci\xf3n ",(0,a.jsx)(s.strong,{children:"Communication"})," se acceden a la documentaci\xf3n de todas las funciones para establecer comunicaci\xf3n serial."]}),"\n",(0,a.jsx)(r.c,{img:i(6840)}),"\n",(0,a.jsx)(s.p,{children:"A continuaci\xf3n se describen las principales funciones del API empleadas mas comunmente para comunicaci\xf3n serial:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Funci\xf3n"}),(0,a.jsx)(s.th,{children:"Descripci\xf3n"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.begin()"})}),(0,a.jsxs)(s.td,{children:["Configura la velocidad de transmisi\xf3n serial (bits por segundo = baud).",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Sintaxis"}),":",(0,a.jsx)("br",{}),(0,a.jsx)(s.code,{children:"Serial.begin(speed)"})," ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Par\xe1metros"}),": ",(0,a.jsxs)("li",{children:[(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.code,{children:"speed"})}),": Velocidad de transmisi\xf3n (",(0,a.jsx)(s.strong,{children:"baudrate"}),"). La velocidad solo puede tomar alguno de los siguientes valores: ",(0,a.jsx)(s.code,{children:"300, 1200, 2400, 4800, 9600, 14400, 19200, 28800,  38400, 57600, 115200"})]})]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.print()"})}),(0,a.jsxs)(s.td,{children:["Imprime los datos del puerto serial en formato ASCII.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Sintaxis"}),":",(0,a.jsx)("br",{}),(0,a.jsx)(s.code,{children:"Serial.print(val)"}),(0,a.jsx)("br",{}),(0,a.jsx)(s.code,{children:"Serial.print(val, format)"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Par\xe1metros"}),": ",(0,a.jsxs)("li",{children:[(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.code,{children:"val"})}),": Valor a imprimir. El valor puede ser de cualquier tipo."]}),(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.code,{children:"format"})}),": Formato de representaci\xf3n del ASCII (",(0,a.jsx)(s.code,{children:"DEC"}),", ",(0,a.jsx)(s.code,{children:"HEX"}),", ",(0,a.jsx)(s.code,{children:"OCT"})," o ",(0,a.jsx)(s.code,{children:"BIN"}),")."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.available()"})}),(0,a.jsxs)(s.td,{children:["Obtiene el n\xfamero de bytes (caracteres) disponibles por leer en el puerto serial. Estos son datos que ya han llegado y han sido almacenados en el buffer de recepci\xf3n serial (el cual almacena 64 bytes).",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Sintaxis"}),":",(0,a.jsx)("br",{}),(0,a.jsx)(s.code,{children:"Serial.available()"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Valores retornados"}),": N\xfamero de bytes disponibles para leer."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.read()"})}),(0,a.jsxs)(s.td,{children:["Lee un dato que entra a trav\xe9s del serial.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Sintaxis"}),":",(0,a.jsx)("br",{}),(0,a.jsx)(s.code,{children:"Serial.read()"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(s.strong,{children:"Valores retornados"}),": Primer byte de los datos seriales disponibles (o ",(0,a.jsx)(s.code,{children:"-1"})," si no hay datos disponibles). El tipo de dato le\xeddo es ",(0,a.jsx)(s.code,{children:"int"}),"."]})]})]})]}),"\n",(0,a.jsx)(s.p,{children:"Otras funciones del API, se muestran de manera mas resumida en la siguiente tabla:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Funci\xf3n"}),(0,a.jsx)(s.th,{children:"Descripci\xf3n"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.end()"})}),(0,a.jsxs)(s.td,{children:["Deshabilita la comunicaci\xf3n serial permitiendo que los pines ",(0,a.jsx)(s.code,{children:"RX"})," y ",(0,a.jsx)(s.code,{children:"TX"})," puedan ser usados como pines de entrada y salida (",(0,a.jsx)(s.code,{children:"I/O"}),")."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.write(value)"})}),(0,a.jsxs)(s.td,{children:["Escribe datos binarios a trav\xe9s del puerto serie. Los datos se env\xedan como un byte o una serie de bytes (no human-readable: ",(0,a.jsx)(s.code,{children:"raw"}),")."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.peek()"})}),(0,a.jsxs)(s.td,{children:["Permite lectura sin remover datos. Para ello, retorna el proximo byte (como ",(0,a.jsx)(s.code,{children:"int"}),") de los datos seriales que entran sin removerlo del buffer serial interno (o ",(0,a.jsx)(s.code,{children:"-1"})," si no hay datos disponibles)."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"Serial.flush()"})}),(0,a.jsx)(s.td,{children:"Espera hasta que la transmisi\xf3n de los datos seriales salientes se complete"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"serialEvent()"})}),(0,a.jsxs)(s.td,{children:["Funci\xf3n que se llama cuando hay datos en serie disponibles. Para mas informaci\xf3n consultar el siguiente ",(0,a.jsx)(s.a,{href:"https://docs.arduino.cc/built-in-examples/communication/SerialEvent",children:"link"})]})]})]})]}),"\n",(0,a.jsxs)(s.p,{children:["Es importante aclarar que las siguientes funciones son parte del API de Arduino. En caso de que se haga uso del ESP32, es necesario verificar si estas han sido portadas a esta plataforma en la pagina ",(0,a.jsx)(s.strong,{children:"Arduino core for the ESP32, ESP32-S2, ESP32-S3 and ESP32-C3"})," (",(0,a.jsx)(s.a,{href:"https://docs.espressif.com/projects/arduino-esp32/en/latest/",children:"link"}),") o de lo contrario, el modelo de programaci\xf3n cambia y debera hacerse uso del ",(0,a.jsx)(s.strong,{children:"ESP-IDF Programming Guide"})," (",(0,a.jsx)(s.a,{href:"https://docs.espressif.com/projects/esp-idf/en/latest/esp32/",children:"link"}),"). Afortunadamente, la comunicaci\xf3n serial por ",(0,a.jsx)(s.strong,{children:"UART"})," si tiene soporte para el API Arduino-ESP32 (ver ",(0,a.jsx)(s.a,{href:"https://docs.espressif.com/projects/arduino-esp32/en/latest/libraries.html",children:"tabla"}),")."]}),"\n",(0,a.jsx)(s.h2,{id:"puertos-empleados",children:"Puertos empleados"}),"\n",(0,a.jsx)(s.p,{children:"Antes de empezar es necesario determinar los protocolos de comunicaci\xf3n serial soportados por el microcontrolador y los pines en los cuales estos se implementan. Esto se hace al revisar en la documentaci\xf3n de la placa el diagrama de pines. A continuaci\xf3n se mostrar\xe1 el caso para las placas Arduino UNO y ESP32 disponibles en el laboratorio:"}),"\n",(0,a.jsx)(s.h3,{id:"esp32",children:"ESP32"}),"\n",(0,a.jsxs)(s.p,{children:["A continuaci\xf3n se muestra el diagrama de pines de la placa ",(0,a.jsx)(s.strong,{children:"NODEMCU ESP-32S"})," la cual se encuentra disponible en el laboratorio:"]}),"\n",(0,a.jsx)(r.c,{img:i(7964)}),"\n",(0,a.jsxs)(s.p,{children:["Si se consulta la tabla de definici\xf3n de pines del datasheet del ",(0,a.jsx)(s.strong,{children:"Nodemcu-32s"})," (",(0,a.jsx)(s.a,{href:"https://docs.ai-thinker.com/_media/esp32/docs/nodemcu-32s_product_specification.pdf",children:"link"}),"), los pines de interes seran:"]}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"No."}),(0,a.jsx)(s.th,{children:"Pin Name"}),(0,a.jsx)(s.th,{children:"Functional Description"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"34"}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"RX"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"GPIO3"}),", ",(0,a.jsx)(s.code,{children:"U0RXD"}),", ",(0,a.jsx)(s.code,{children:"CLK_OUT2"})]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"35"}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"TX"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"GPIO1"}),", ",(0,a.jsx)(s.code,{children:"U0TXD"}),", ",(0,a.jsx)(s.code,{children:"CLK_OUT3"}),", ",(0,a.jsx)(s.code,{children:"EMAC_RXD2"})]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"16"}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"SD2"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"GPIO9"}),", ",(0,a.jsx)(s.code,{children:"SD_DATA2"}),", ",(0,a.jsx)(s.code,{children:"SPIHD"}),", ",(0,a.jsx)(s.code,{children:"HS1_DATA2"}),", ",(0,a.jsx)(s.code,{children:"U1RXD"})]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"17"}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"SD3"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"GPIO10"}),", ",(0,a.jsx)(s.code,{children:"SD_DATA3"}),", ",(0,a.jsx)(s.code,{children:"SPIWP"}),", ",(0,a.jsx)(s.code,{children:"HS1_DATA3"}),", ",(0,a.jsx)(s.code,{children:"U1TXD"})]})]})]})]}),"\n",(0,a.jsxs)(s.p,{children:["Los pines ",(0,a.jsx)(s.code,{children:"TX"})," y ",(0,a.jsx)(s.code,{children:"RX"})," estan conectados con el chip que hace la conversion Serial a USB por lo que no pueden ser usados para otro proposito cuando se estan usando para la transmisi\xf3n serial en la aplicaci\xf3n que corre la placa. Para mas informaci\xf3n puede consultar la secci\xf3n ",(0,a.jsx)(s.strong,{children:"Establish Serial Connection with ESP32"})," (",(0,a.jsx)(s.a,{href:"https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/establish-serial-connection.html",children:"link"}),")."]}),"\n",(0,a.jsx)(s.h3,{id:"arduino-uno",children:"Arduino UNO"}),"\n",(0,a.jsx)(s.p,{children:"A continuaci\xf3n se muestra el diagrama de pines para el arduino UNO (la otra placa disponible en el laboratorio)."}),"\n",(0,a.jsx)(r.c,{img:i(2196)}),"\n",(0,a.jsx)(s.p,{children:"En este caso tenemos:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"No."}),(0,a.jsx)(s.th,{children:"Pin Name"}),(0,a.jsx)(s.th,{children:"Functional Description"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"0"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"RX<-0"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"D0/RX"}),", ",(0,a.jsx)(s.code,{children:"PD0"})]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"1"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"TX->1"})}),(0,a.jsxs)(s.td,{children:[(0,a.jsx)(s.code,{children:"D1/TX"}),", ",(0,a.jsx)(s.code,{children:"PD1"})]})]})]})]}),"\n",(0,a.jsx)(s.p,{children:"Estos pines al ser conectados, no deberan ser usados como puertos digitales si la aplicaci\xf3n del arduino usa el puerto serial."}),"\n",(0,a.jsx)(s.h2,{id:"aplicaciones-de-la-comunicaci\xf3n-serial",children:"Aplicaciones de la comunicaci\xf3n serial"}),"\n",(0,a.jsx)(s.p,{children:"Cualquiera de las placas disponibles en el laboratorio tiene al menos un puerto serial (UART o SUART). A traves de este puerto es posible:"}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["La comunicaci\xf3n entre entre dos placas a traves de la conexi\xf3n cruzada entre los pines de transmisi\xf3n (",(0,a.jsx)(s.code,{children:"TX"}),") y recepci\xf3n (",(0,a.jsx)(s.code,{children:"RX"}),") de estas (",(0,a.jsx)(s.a,{href:"https://www.hackster.io/onedeadmatch/custom-uart-protocol-on-esp32-1e2fa4",children:"link"}),")."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"conexion_esp32",src:i(9536).c+"",width:"1056",height:"741"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["La comunicaci\xf3n entre una placa y el computador mediante USB (haciendo uso de un adaptador USB a Serial) el cual suele venir integrado con las placas (",(0,a.jsx)(s.a,{href:"https://www.mathworks.com/help/supportpkg/arduinoio/ug/configure-setup-for-esp32-hardware.html",children:"link"}),")."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"pc-esp32",src:i(7516).c+"",width:"607",height:"226"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Cuando se hace uso del puerto serial tenemos principalmente dos escenarios de aplicacion:"}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsx)(s.li,{children:"Debug de aplicaciones complejas."}),"\n",(0,a.jsx)(s.li,{children:"Comunicaci\xf3n y transmisici\xf3n de diferentes tipos de informaci\xf3n (comandos, estado, Valor de variables, etc.) seg\xfan el tipo de aplicaci\xf3n que se use."}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"escenario-1---debug-de-aplicaciones",children:"Escenario 1 - Debug de aplicaciones"}),"\n",(0,a.jsxs)(s.p,{children:["Una de las aplicaciones mas utilies del puerto serial es que facilita el ",(0,a.jsx)(s.strong,{children:"debug"})," de aplicaciones gracias a que por medio de este se pueden imprimir, en tiempo de ejecuci\xf3n, ",(0,a.jsx)(s.strong,{children:"mensajes de log"})," que sirven como verificar el correcto funcionamiento de la logica del programa al usar un programa como el monitor serial o cualquier programa similar."]}),"\n",(0,a.jsx)(s.p,{children:"Es muy comun imprimir variables (que pueden indican el estado o valor de un sensor, mensajes de la aplicaci\xf3n, etc)."}),"\n",(0,a.jsxs)(s.p,{children:["En el siguiente ejemplo (",(0,a.jsx)(s.a,{href:"https://github.com/UdeA-IoT/clases-IoT_capa-percepcion_2023-2/tree/main/dia4/debug_esp32",children:"link"}),") se muestra como hacer para el montaje mostrado a continuaci\xf3n:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"esp32_debug-serial",src:i(9376).c+"",width:"530",height:"333"})}),"\n",(0,a.jsx)(s.h3,{id:"escenario-2---comunicaci\xf3n-con-otras-placas-y-con-el-pc",children:"Escenario 2 - Comunicaci\xf3n con otras placas y con el PC"}),"\n",(0,a.jsx)(s.p,{children:"Por medio de operaciones de lectura y escritura en el puerto serial, es posible transmitir informaci\xf3n desde y hacia otro dispositivo de hardware que tenga interfaz serial (Otra placa, computador o hardware especifico)."}),"\n",(0,a.jsxs)(s.p,{children:["Para comprender esto en el siguiente ",(0,a.jsx)(s.a,{href:"https://github.com/UdeA-IoT/clases-IoT_capa-percepcion_2023-2/tree/main/dia4/serial-esp32-arduino",children:"directorio"})," explicara paso a paso una aplicaci\xf3n mediante la cual se enviaran comandos por serial desde un el PC al ESP32 para una tarea sencilla como prender y apagar un led."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"comunicacion_serial",src:i(372).c+"",width:"712",height:"312"})})]})}function h(e={}){const{wrapper:s}={...(0,n.M)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},372:(e,s,i)=>{"use strict";i.d(s,{c:()=>a});const a=i.p+"assets/images/comunicacion_serial-c2765c140e29e87c84486320b835a033.png"},9376:(e,s,i)=>{"use strict";i.d(s,{c:()=>a});const a=i.p+"assets/images/esp32_debug-serial-6b22ba2c317c2eb0bdcc828610a6150b.png"},7516:(e,s,i)=>{"use strict";i.d(s,{c:()=>a});const a=i.p+"assets/images/esp32_usb-7e17a30e73c04e524da615f9f32c1924.png"},9536:(e,s,i)=>{"use strict";i.d(s,{c:()=>a});const a=i.p+"assets/images/oscup_mcu_mcu-e24bce41f98d51990b31ab042dc6af1a.jpg"}}]);